

//
//  GuideView.m
//  eHealthCare
//
//  Created by John shi on 2018/7/5.
//  Copyright © 2018年 Jon Shi. All rights reserved.
//

#import "GuideView.h"
#import "LoginViewModel.h"
#import "GuideQuestion.h"
@interface GuideView ()<UIPickerViewDelegate,UIPickerViewDataSource>

@property (nonatomic, strong) UIScrollView *guideScrollView;//引导页scrollview

@property (nonatomic, strong) NSArray *guideImageArray;//引导页
@property (nonatomic, strong) NSMutableArray *btnArray;//装所有计划的额按钮

@property (nonatomic, strong) NSArray *planArray;//选折有几项数据计划
@property (nonatomic, strong) NSMutableArray *get_weigh_array;
@property (nonatomic, strong) NSMutableArray *get_high_array;
@property (nonatomic, strong)UILabel *contentBirthdayLab;
@end

@implementation GuideView
{
    NSMutableDictionary *save_dic;
    NSNumber *_selectedArea;
    NSNumber *_selected_weigh;
}

- (instancetype)initWithFrame:(CGRect)frame
{
    if(self = [super initWithFrame:frame])
    {
        NSUserDefaults *user = [NSUserDefaults standardUserDefaults];
        NSLog(@"%@",[user objectForKey:@"main_data"]);
        save_dic = [NSMutableDictionary dictionary];
        self.backgroundColor = [UIColor clearColor];
        [self setupSubviews];
        [self loadGuideData];
    }
    return self;
}

// 添加子控件
- (void)setupSubviews
{
    [self setGuideImageArray:nil];
    
    _guideScrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(0, 0, KScreenWidth, KScreenHeight)];
    _guideScrollView.backgroundColor =[UIColor clearColor];
    _guideScrollView.bounces = NO;
    _guideScrollView.showsHorizontalScrollIndicator = NO;
    _guideScrollView.showsVerticalScrollIndicator = NO;
    _guideScrollView.delegate = self;
    _guideScrollView.pagingEnabled = YES;
    [self addSubview:_guideScrollView];
    _guideScrollView.contentSize = CGSizeMake(KScreenWidth * self.guideImageArray.count, KScreenHeight);
    
    
    
    UIButton *skipbutton = [UIButton buttonWithType:UIButtonTypeCustom];
    skipbutton.titleLabel.font = [UIFont systemFontOfSize:15.0];
    [skipbutton setTitle:@"跳过" forState:UIControlStateNormal];
    [skipbutton setTitleColor:[UIColor getColor:@"B3BBC4"] forState:UIControlStateNormal];
    [skipbutton addTarget:self action:@selector(hiddenGuidePage:) forControlEvents:UIControlEventTouchUpInside];
    skipbutton.layer.cornerRadius = KHeight(45)/2.0;
    skipbutton.frame = CGRectMake(_guideScrollView.frame.size.width - KWidth(106),  KHeight(15), KWidth(106), KHeight(45));
    [self addSubview:skipbutton];
    
    for (int i = 1; i < self.guideImageArray.count + 1; i++) {
        
        
        if (i == self.guideImageArray.count )
        {
            
            UILabel *nameLab = [[UILabel alloc]init];
            nameLab.text = @"感谢您，已对您有初步了解";
            nameLab.textColor = [UIColor getColor:@"2C4667"];
            nameLab.font = (Kfont(20));
            nameLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1),  KHeight(101), KScreenWidth, KHeight(20));
            nameLab.textAlignment = NSTextAlignmentCenter;
            [_guideScrollView addSubview:nameLab];
            
            
            UILabel *contentLab = [[UILabel alloc]init];
            contentLab.text = @"我们为您定制以下健康计划，请选择最想加入的计划";
            contentLab.textColor = [UIColor getColor:@"2C4667"];
            contentLab.font = Kfont(13);
            contentLab.textAlignment = NSTextAlignmentCenter;
            contentLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1), CGRectGetMaxY(nameLab.frame)+CGRectGetHeight(nameLab.frame)+KHeight(15),KScreenWidth, KHeight(20));
            [_guideScrollView addSubview:contentLab];
            
            
            self.btnArray = [[NSMutableArray alloc]init];
            
            for (int j = 0; j<4; j++) {
                
                UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
                button.tag = j+1234;
                button.titleLabel.font = [UIFont systemFontOfSize:13.0];
                [button setTitle:self.planArray[j] forState:UIControlStateNormal];
                [button setTitleColor:[UIColor getColor:@"2C4667"]  forState:UIControlStateNormal];
                [button setTitleColor:kMainColor  forState:UIControlStateSelected];
                [button setImage:[UIImage imageNamed:@""] forState:UIControlStateNormal];
                [button setImage:[UIImage imageNamed:@"iv_question_select"] forState:UIControlStateSelected];
                button.imageEdgeInsets = UIEdgeInsetsMake(0, -KWidth(40), 0, 0);
                [button addTarget:self action:@selector(selectBtn:) forControlEvents:UIControlEventTouchUpInside];
                button.layer.cornerRadius = KHeight(45)/2.0;
                button.layer.borderColor = [UIColor getColor:@"2C4667"].CGColor;
                button.layer.borderWidth = .5f;
                button.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+(KScreenWidth / 2 - KWidth(99)), CGRectGetMaxY(contentLab.frame)+CGRectGetHeight(contentLab.frame)+ KHeight(73)+j*(KHeight(45)+KHeight(10)), KWidth(199), KHeight(45));
                [_guideScrollView addSubview:button];
                
                [self.btnArray addObject:button];
            }
            
            
            
            UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
            [button setBackgroundColor:kMainColor];
            button.titleLabel.font = [UIFont systemFontOfSize:13.0];
            [button setTitle:@"开始我的健康之旅" forState:UIControlStateNormal];
            [button addTarget:self action:@selector(hiddenGuidePage:) forControlEvents:UIControlEventTouchUpInside];
            
            button.layer.cornerRadius = KHeight(45)/2.0;
            
            button.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+(KScreenWidth / 2 - KWidth(99)), KScreenHeight - KHeight(103), KWidth(199), KHeight(45));
            [_guideScrollView addSubview:button];
            
            
            
            
        }
        if (i == 1) {
            
            UIImageView *guidePageView = [[UIImageView alloc]initWithFrame:CGRectMake((KScreenWidth-KWidth(303))/2.0,KHeight(71) , KWidth(303), KHeight(81))];
            guidePageView.image = [UIImage imageNamed:self.guideImageArray[i - 1]];
            [_guideScrollView addSubview:guidePageView];
            
            
            UILabel *contentLab = [[UILabel alloc]init];
            contentLab.text = @"您的性别是？";
            contentLab.textColor = [UIColor getColor:@"2C4667"];
            contentLab.font = Kfont(20);
            contentLab.textAlignment = NSTextAlignmentCenter;
            contentLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1),CGRectGetHeight(guidePageView.frame)+CGRectGetMaxY(guidePageView.frame)+KHeight(83), KScreenWidth, KHeight(20));
            [_guideScrollView addSubview:contentLab];
            
            
            
            UIButton *yesbutton = [UIButton buttonWithType:UIButtonTypeCustom];
            yesbutton.tag = 10000;
            yesbutton.titleLabel.font = [UIFont systemFontOfSize:13.0];
            [yesbutton setTitle:@"是" forState:UIControlStateNormal];
            [yesbutton addTarget:self action:@selector(yesbuttonSelect:) forControlEvents:UIControlEventTouchUpInside];
            [yesbutton setImage:[UIImage imageNamed:@"iv_question_man"] forState:UIControlStateNormal];
            yesbutton.layer.cornerRadius = KHeight(45)/2.0;
            yesbutton.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+ KWidth(49), CGRectGetHeight(contentLab.frame)+CGRectGetMaxY(contentLab.frame)+KHeight(41), KWidth(115), KHeight(115));
            [_guideScrollView addSubview:yesbutton];
            
            
            UIButton *NObutton = [UIButton buttonWithType:UIButtonTypeCustom];
            NObutton.tag = 10001;
            [NObutton setImage:[UIImage imageNamed:@"iv_question_female"] forState:UIControlStateNormal];
            
            NObutton.titleLabel.font = [UIFont systemFontOfSize:13.0];
            [NObutton setTitle:@"否" forState:UIControlStateNormal];
            [NObutton addTarget:self action:@selector(yesbuttonSelect:) forControlEvents:UIControlEventTouchUpInside];
            NObutton.layer.cornerRadius = KHeight(45)/2.0;
            
            NObutton.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+KScreenWidth  - KWidth(115)-KWidth(49), CGRectGetHeight(contentLab.frame)+CGRectGetMaxY(contentLab.frame)+KHeight(41), KWidth(115), KHeight(115));
            [_guideScrollView addSubview:NObutton];
            
            
            UILabel *manLab = [[UILabel alloc]init];
            manLab.text = @"男";
            manLab.textColor = [UIColor getColor:@"2C4667"];
            manLab.font = Kfont(20);
            manLab.textAlignment = NSTextAlignmentCenter;
            manLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+ KWidth(49),CGRectGetHeight(yesbutton.frame)+CGRectGetHeight(contentLab.frame)+CGRectGetMaxY(contentLab.frame)+KHeight(41)+KHeight(10), KWidth(106), KHeight(20));
            [_guideScrollView addSubview:manLab];
            
            
            UILabel *womanLab = [[UILabel alloc]init];
            womanLab.text = @"女";
            womanLab.textColor = [UIColor getColor:@"2C4667"];
            womanLab.font = Kfont(20);
            womanLab.textAlignment = NSTextAlignmentCenter;
            womanLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+KScreenWidth  - KWidth(106)-KWidth(49),CGRectGetHeight(yesbutton.frame)+CGRectGetHeight(contentLab.frame)+CGRectGetMaxY(contentLab.frame)+KHeight(41)+KHeight(10), KWidth(106), KHeight(20));
            [_guideScrollView addSubview:womanLab];
        }
        
        if (i == 2||i == 3)
        {
            UILabel *nameLab = [[UILabel alloc]init];
            nameLab.text = @"您的出生日期是？";
            nameLab.textColor = [UIColor getColor:@"2C4667"];
            nameLab.font = (Kfont(20));
            nameLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1),  KHeight(101), KScreenWidth, KHeight(20));
            nameLab.textAlignment = NSTextAlignmentCenter;
            [_guideScrollView addSubview:nameLab];
            if (i == 2) {
                 nameLab.text = @"您的出生日期是？";
                self.contentBirthdayLab = [[UILabel alloc]init];
                self.contentBirthdayLab.text = @"1990年1月1日";
                self.contentBirthdayLab.textColor = kMainColor;
                self.contentBirthdayLab.font = Kfont(17);
                self.contentBirthdayLab.textAlignment = NSTextAlignmentCenter;
                self.contentBirthdayLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1), CGRectGetMaxY(nameLab.frame)+CGRectGetHeight(nameLab.frame)+KHeight(41),KScreenWidth, KHeight(20));
                [_guideScrollView addSubview:self.contentBirthdayLab];
                UIDatePicker *datepicker = [[UIDatePicker alloc]initWithFrame:CGRectMake(_guideScrollView.frame.size.width * (i - 1), (KScreenHeight-316)/2.0+KHeight(40), KScreenWidth, 316)];
                datepicker.tag = 1111+i;
                [datepicker setLocale:[NSLocale localeWithLocaleIdentifier:@"zh-CN"]];
                [datepicker setTimeZone:[NSTimeZone timeZoneWithName:@"zh_CN"]];
//                [datepicker setValue:[UIColor colorWithRed:60/255.0 green:201/255.0 blue:219/255.0 alpha:1.0] forKey:@"textColor"];
                
                //定义最大日期为当前日期
                [datepicker setMaximumDate:[NSDate date]];
                //定义最小日期
                NSDateFormatter *formatter_minDate = [[NSDateFormatter alloc] init];
                [formatter_minDate setDateFormat:@"yyyy-MM-dd"];
                NSDate *minDate = [formatter_minDate dateFromString:@"1900-01-01"];
                [datepicker setMinimumDate:minDate];//设置有效最小日期，但是其他还是会显示
                
                
                NSDate *defaultDate = [formatter_minDate dateFromString:@"1990-01-01"];
                
                [datepicker setDate:defaultDate animated:YES];//设置当前显示的时间
                datepicker.datePickerMode = UIDatePickerModeDate;//类型
                [datepicker addTarget:self action:@selector(dateChange:) forControlEvents:UIControlEventValueChanged];
                [_guideScrollView addSubview:datepicker];
                
                 [save_dic setValue:@"1990年01月01日" forKey:@"birthday"];
            }else if (i == 3){
                 nameLab.text = @"您的身高体重是？";
                UIPickerView *pickview = [[UIPickerView  alloc]initWithFrame:CGRectMake(_guideScrollView.frame.size.width * (i - 1), (KScreenHeight-316)/2.0+KHeight(40), KScreenWidth, 316)];
                pickview.delegate = self;
                pickview.dataSource = self;
                
                [_guideScrollView addSubview:pickview];
               UILabel *heightLab = [[UILabel alloc]init];
                heightLab.text = @"身高(cm)";
                heightLab.textColor = kMainColor;
                heightLab.font = Kfont(17);
                heightLab.textAlignment = NSTextAlignmentCenter;
                heightLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1), CGRectGetMaxY(nameLab.frame)+CGRectGetHeight(nameLab.frame)+KHeight(41),KScreenWidth/2.0, KHeight(20));
                [_guideScrollView addSubview:heightLab];
                
                
                UILabel *weightLab = [[UILabel alloc]init];
                weightLab.text = @"体重(kg)";
                weightLab.textColor = kMainColor;
                weightLab.font = Kfont(17);
                weightLab.textAlignment = NSTextAlignmentCenter;
                weightLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+KScreenWidth/2.0, CGRectGetMaxY(nameLab.frame)+CGRectGetHeight(nameLab.frame)+KHeight(41),KScreenWidth/2.0, KHeight(20));
                [_guideScrollView addSubview:weightLab];
                
                [pickview selectRow:50 inComponent:0 animated:NO];
                
                 [pickview selectRow:50 inComponent:1 animated:NO];
                  [save_dic setValue:[NSString stringWithFormat:@"%@ %@",@"150",@"53"] forKey:@"weight"];
            }
            
            
            UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
            [button setBackgroundColor:kMainColor];
            button.titleLabel.font = [UIFont systemFontOfSize:13.0];
            [button setTitle:@"继续" forState:UIControlStateNormal];
            button.tag = 10000+i;
            [button addTarget:self action:@selector(yesOrNO:) forControlEvents:UIControlEventTouchUpInside];
            _guideScrollView.userInteractionEnabled=YES;
            button.layer.cornerRadius = KHeight(45)/2.0;
            
            button.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+(KScreenWidth / 2 - KWidth(53)), KScreenHeight - KHeight(103), KWidth(106), KHeight(45));
            [_guideScrollView addSubview:button];
            
        }
        if (i == 7||i == 4||i == 5||i == 6)
        {
            
            UIImageView *guidePageView = [[UIImageView alloc]initWithFrame:CGRectMake(_guideScrollView.frame.size.width * (i - 1),KHeight(71) , KWidth(375), KHeight(375))];
            guidePageView.image = [UIImage imageNamed:self.guideImageArray[i - 1]];
            [_guideScrollView addSubview:guidePageView];
            NSArray *map_arr = @[@"您每年是否定期体检？",@"您每天是否在早晨9点吃完早餐？",@"您每天是否运动1小时以上",@"您每天是否饮水3000毫升"];
            
            UILabel *contentLab = [[UILabel alloc]init];
            contentLab.text = map_arr[i-4];
            contentLab.textColor = [UIColor getColor:@"2C4667"];
            contentLab.font = Kfont(17);
            contentLab.textAlignment = NSTextAlignmentCenter;
            contentLab.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1),KHeight(71)+KHeight(375)+KHeight(20), KScreenWidth, KHeight(20));
            [_guideScrollView addSubview:contentLab];
            
            
            
            UIButton *yesbutton = [UIButton buttonWithType:UIButtonTypeCustom];
            yesbutton.tag = 20000+i;
            [yesbutton setBackgroundColor:kMainColor];
            yesbutton.titleLabel.font = [UIFont systemFontOfSize:13.0];
            [yesbutton setTitle:@"是" forState:UIControlStateNormal];
            [yesbutton addTarget:self action:@selector(yesbuttonSelect:) forControlEvents:UIControlEventTouchUpInside];
            
            yesbutton.layer.cornerRadius = KHeight(45)/2.0;
            yesbutton.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+ KWidth(49), KScreenHeight - KHeight(103), KWidth(106), KHeight(45));
            [_guideScrollView addSubview:yesbutton];
            
            
            UIButton *NObutton = [UIButton buttonWithType:UIButtonTypeCustom];
            NObutton.tag = 30000+i;
            
            [NObutton setBackgroundColor:kMainColor];
            NObutton.titleLabel.font = [UIFont systemFontOfSize:13.0];
            [NObutton setTitle:@"否" forState:UIControlStateNormal];
            [NObutton addTarget:self action:@selector(yesbuttonSelect:) forControlEvents:UIControlEventTouchUpInside];
            NObutton.layer.cornerRadius = KHeight(45)/2.0;
            
            NObutton.frame = CGRectMake(_guideScrollView.frame.size.width * (i - 1)+KScreenWidth  - KWidth(106)-KWidth(49), KScreenHeight - KHeight(103), KWidth(106), KHeight(45));
            [_guideScrollView addSubview:NObutton];
            
        }
        
        
        //
    }
    
}

-(void)NObutton:(UIButton *)sender
{
    
    
    
}
-(void)selectBtn:(UIButton *)sender
{
    
    NSInteger tag =   sender.tag - 1234;
    sender.selected = !sender.selected;
    //    for (UIButton  *btn in self.btnArray) {
    //        btn.selected =
    //    }
    
}

-(void)hiddenGuidePage:(UIButton *)sender
{
    NSUserDefaults *user = [NSUserDefaults standardUserDefaults];
    [user setObject:save_dic forKey:@"main_data"];
    
    NSString *nowVersion = [[[NSBundle mainBundle] infoDictionary] objectForKey:@"CFBundleShortVersionString"];
    [[NSUserDefaults standardUserDefaults] setObject:nowVersion forKey:@"lastVersion"];
    [[NSUserDefaults standardUserDefaults] synchronize];
    
    WEAKSELF
    [UIView animateWithDuration:1.5 animations:^{
        if(weakSelf.hideGuideViewBlock)
        {
            weakSelf.hideGuideViewBlock();
        }
        weakSelf.guideScrollView.alpha = 0;
        [[UIApplication sharedApplication] setStatusBarHidden:NO];
    }completion:^( BOOL finish){
        
        [self removeFromSuperview];
    }];
}


#pragma mark scrollView delegate
- (void)scrollViewDidScroll:(UIScrollView *)scrollView
{
    if(scrollView.contentOffset.x <= 0){
        [scrollView setContentOffset:CGPointMake(0, 0) animated:NO];
    }
    
    CGFloat pageWidth = scrollView.frame.size.width;
    int currentPage = floor((scrollView.contentOffset.x - pageWidth / 2) / pageWidth) + 1;
    
    if (currentPage == self.guideImageArray.count )
    {
        [self hiddenGuidePage:nil];
    }
    NSLog(@"%d",currentPage);
}
#pragma mark yesbuttonSelect
-(void)yesbuttonSelect:(UIButton *)btn
{
    if (btn.tag == 10000) {
        //男
        [save_dic setValue:@"man" forKey:@"sex"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth, 0)];
        
    }else if(btn.tag == 10001){
        //女
        [save_dic setValue:@"wowen" forKey:@"sex"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth, 0)];
    }else if (btn.tag == 20004){
        //定期体检 yes
        [save_dic setValue:@"yes" forKey:@"check"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*4, 0)];
        
    }else if (btn.tag == 30004){
        //定期体检 no
        [save_dic setValue:@"no" forKey:@"check"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*4, 0)];
        
    }else if (btn.tag == 20005){
        //9点前吃早饭 yes
        [save_dic setValue:@"yes" forKey:@"eat"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*5, 0)];
        
    }else if (btn.tag == 30005){
        //9点前吃早饭 no
        [save_dic setValue:@"no" forKey:@"eat"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*5, 0)];
        
    }else if (btn.tag == 20006){
        //每天运动1小时以上 yes
        [save_dic setValue:@"yes" forKey:@"sport"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*6, 0)];
        
    }else if (btn.tag == 30006){
        //每天运动1小时以上 no
        [save_dic setValue:@"no" forKey:@"sport"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*6, 0)];
        
    }else if (btn.tag == 20007){
        //是否饮水3000毫升 yes
        [save_dic setValue:@"yes" forKey:@"drink"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*7, 0)];
        
    }else if (btn.tag == 30007){
        //是否饮水3000毫升 no
        [save_dic setValue:@"no" forKey:@"drink"];
        
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*7, 0)];
        
    }
    
}
-(void)yesOrNO:(UIButton *)btn
{
    if (btn.tag == 10002) {
      
        [save_dic setValue: self.contentBirthdayLab.text forKey:@"birthday"];
        
        //出声日期继续
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*2, 0)];
        
    }else{
        
        [save_dic setValue:[NSString stringWithFormat:@"%@ %@",_selectedArea,_selected_weigh] forKey:@"weight"];
        //升高继续
        [_guideScrollView setContentOffset:CGPointMake(KScreenWidth*3, 0)];
    }
}
#pragma lazy load
- (void)setGuideImageArray:(NSArray *)guideImageArray
{
    if (!_guideImageArray) {
        _guideImageArray = @[@"iv_question_robot",@"",@"",@"iv_question_examination",@"iv_question_breakfast",@"iv_question_sports",@"iv_question_drink",@""];
    }
}
-(void)setPlanArray:(NSMutableArray *)planArray
{
    
    if (!_planArray) {
        _planArray = @[@"健康饮食计划",@"每日饮水计划",@"运动计划",@"喝水提醒"];
    }
}

#pragma mark - UIPickerViewDataSource
- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView {

    return 2;

}
-(NSMutableArray *)get_high_array
{
    if (!_get_high_array) {
        _get_high_array = [[NSMutableArray alloc]init];
      
        for (int i=100;i<200;i++){
            [_get_high_array addObject:[NSNumber numberWithInt:i]];
        }
       
    }
    return _get_high_array;
    
}

-(NSMutableArray *)get_weigh_array
{
     if (!_get_weigh_array) {
        _get_weigh_array = [NSMutableArray array];
        for (int i=3;i<150;i++){
        [_get_weigh_array addObject:[NSNumber numberWithInt:i]];
        }
     }
    return _get_weigh_array;
}
- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component {

    if (component == 0) {

        return self.get_high_array.count;

    }
     else
    return self.get_weigh_array.count;

}

- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component {
    if (component == 0) {
        NSNumber *num = self.get_high_array[row];
        return [NSString stringWithFormat:@"%@",num];
    }else
    {
        
        NSNumber *num = self.get_weigh_array[row];
        return [NSString stringWithFormat:@"%@",num];
    }
   

}
- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component {

    if (component == 0) {

        _selectedArea = self.get_high_array[row];

//        [pickerView reloadComponent:1];
//
//        [pickerView selectRow:0 inComponent:1 animated:YES];

    }else{
        _selected_weigh = self.get_weigh_array[row];
    }
}
//- (CGFloat)pickerView:(UIPickerView *)pickerView widthForComponent:(NSInteger)component {
//
//    if (component == 0) {
//
//        return KWidth(100);
//
//    }
//
//    return KWidth(220);
//
//}
- (void)dateChange:(UIDatePicker *)datePicker
{
    NSDate *date = [datePicker date];
    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc]init];
    [dateFormatter setDateFormat:@"yyy年MM月dd日"];
    NSLog(@"----%@",[dateFormatter stringFromDate:date]);
    self.contentBirthdayLab.text = [dateFormatter stringFromDate:date];
   
}
-(void)loadGuideData{
    
    NSDictionary *dic = @{@"Token":@" ",
                          };
    
    [LoginViewModel GuideQuestionLoginWithParams:dic FinishedBlock:^(ResponseObject *response) {
        

        if (response.code == CodeTypeSucceed) {
            //**推送--这个方法是设置别名和tag 可省
            NSArray *questionArr = [GuideQuestion mj_objectArrayWithKeyValuesArray:response.Result];
            
            NSLog(@"146:%@",questionArr);
        }else {
            
            ShowErrorStatus(response.msg);
            
        }
    }];
    
}
@end
