//
//  HealthKitTool.h
//  eHealthCare
//
//  Created by John shi on 2018/7/6.
//  Copyright Â© 2018å¹´ Jon Shi. All rights reserved.
//

#import <Foundation/Foundation.h>

@interface SportsStatisticsTool : NSObject

/**CoreMotion*/

///å¼€å§‹ç›‘æµ‹æ­¥æ•°å˜åŒ–
+ (void)startStepCount:(void(^)(float stepCount, float distance, float calories, NSError *error))completion;

///åœæ­¢ç›‘æµ‹æ­¥æ•°å˜åŒ–æ•°æ®
+ (void)stopStepCount;

///è·å–(ä»å½“æ—¥å‡Œæ™¨å¼€å§‹åˆ°å½“å‰æ—¶é—´æ®µ)è¿åŠ¨æ­¥æ•°ã€è¿åŠ¨é‡Œç¨‹æ•°ä»¥åŠå¡é‡Œè·¯ã€‚ å¤‡æ³¨ï¼šä¸€æ¬¡æ€§è·å–
+ (void)getSportsStatisticsMessage:(void(^)(float stepCount, float distance, float calories, NSError *error))completion;

/******************************************************************************************/

/**healthKitéƒ¨åˆ†*///HealthKitæ˜¯ä¸€ä¸ªå°æ—¶æ›´æ–°ä¸€æ¬¡ï¼Œä¸èƒ½åŠæ—¶æ›´æ–°  æ ¹æ®å½“å‰çš„éœ€æ±‚ï¼Œæš‚æ—¶ä¸ç”¨HealthKit
///æŸ¥çœ‹æ˜¯å¦å…·æœ‰è®¿é—®HealthKitæƒé™
+ (void)authorizeHealthKit:(void(^)(BOOL success, NSError *error))completion;

///è·å–æ­¥æ•°
+ (void)getStepCount:(void(^)(double value, NSError *error))completion;

///è·å–å…¬é‡Œæ•°
+ (void)getDistance:(void(^)(double value, NSError *error))completion;

@end


//ç¤ºèŒƒï¼šviewDidLoad é‡Œè°ƒç”¨æ­¤æ–¹æ³•
//  [SportsStatisticsTool getSportsStatisticsMessage:^(float stepCount, float distance, float calories, NSError *error) {
//
//NSLog(@"è¡Œèµ°æ­¥æ•°ï¼š%f,è·ç¦»æ•°:%.2f,å¡è·¯é‡Œï¼š%.2f",stepCount,distance,calories);
//dispatch_async(dispatch_get_main_queue(), ^{
//
//    self.phoneText.text = [NSString stringWithFormat:@"%.0f",stepCount];
//    self.codeText.text = [NSString stringWithFormat:@"%.2f",distance];
//
//});
//
//}];

//ç¤ºèŒƒï¼šviewWillAppear é‡Œè°ƒç”¨æ­¤æ–¹æ³•
////å¼€å§‹å®æ—¶æ›´æ–°
//[SportsStatisticsTool startStepCount:^(float stepCount, float distance, float calories, NSError *error) {
//
//    NSLog(@"ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚");
//    NSLog(@"è¡Œèµ°æ­¥æ•°ï¼š%f,è·ç¦»æ•°:%.2f,å¡è·¯é‡Œï¼š%.2f",stepCount,distance,calories);
//    dispatch_async(dispatch_get_main_queue(), ^{
//
//        self.phoneText.text = [NSString stringWithFormat:@"%.0f",stepCount];
//        self.codeText.text = [NSString stringWithFormat:@"%.2f",distance];
//
//    });
//
//}];
